"Tela_Login As screen.'phoneDetailViewLayout_ver3.0'":
    Fill: =RGBA(232, 232, 232, 1)
    OnVisible: |
        =UpdateContext({LoginInvalido: false});
        Reset(txtUsuario);
        Reset(txtSenha);

    Img_CEOV_2 As image:
        BorderColor: =RGBA(0, 89, 178, 1)
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledFill: =RGBA(244, 244, 244, 1)
        Height: =372
        Image: =logo
        ImagePosition: =ImagePosition.Fill
        Width: =610
        X: =Parent.Width/2-Self.Width/2
        Y: =194
        ZIndex: =9

    Lbl_Titulo_1 As label:
        Align: =Align.Center
        BorderColor: =RGBA(0, 89, 178, 1)
        Color: =RGBA(241, 244, 249, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        Fill: =RGBA(0, 18, 107, 1)
        Font: =Font.'Lato Light'
        FontWeight: =FontWeight.Bold
        Height: =158
        Italic: =true
        Size: =35
        Text: ="S I S T E M A   U N I F I C A D O"
        Width: =App.MinScreenWidth
        ZIndex: =11

    Lbl_Usuario_Logado_1 As label:
        Align: =Align.Center
        BorderColor: =RGBA(0, 89, 178, 1)
        Color: =RGBA(241, 244, 249, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        Fill: =RGBA(0, 18, 107, 1)
        Font: =Font.'Lato Light'
        FontWeight: =FontWeight.Bold
        Height: =96
        Italic: =true
        Size: =35
        Text: |-
            ="
            "
        Width: =App.MinScreenWidth
        Y: =Parent.Height- Self.Height
        ZIndex: =14

    Label6 As label:
        Align: =Align.Center
        BorderColor: =RGBA(0, 89, 178, 1)
        Color: =RGBA(0, 0, 0, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        Height: =87
        Size: =42
        Text: ="Bem Vindo !"
        Width: =344
        X: =App.MinScreenWidth/2-Self.Width/2
        Y: =554
        ZIndex: =15

    Label7 As label:
        Align: =Align.Center
        BorderColor: =RGBA(0, 89, 178, 1)
        Color: =RGBA(0, 0, 0, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        Height: =67
        Size: =21
        Text: ="Faça o login para continuar"
        Width: =372
        X: =App.MinScreenWidth/2-Self.Width/2
        Y: =641
        ZIndex: =16

    txtUsuario As text:
        BorderColor: =RGBA(0, 89, 178, 1)
        BorderThickness: =2
        Color: =RGBA(0, 0, 0, 1)
        Default: =""
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        DisabledFill: =RGBA(244, 244, 244, 1)
        FocusedBorderThickness: =4
        Height: =70
        HintText: ="Usuário"
        HoverBorderColor: =RGBA(0, 89, 178, 1)
        HoverColor: =RGBA(0, 0, 0, 1)
        HoverFill: =RGBA(153, 205, 255, 1)
        RadiusBottomLeft: =25
        RadiusBottomRight: =25
        RadiusTopLeft: =25
        RadiusTopRight: =25
        Size: =21
        Width: =400
        X: =App.MinScreenWidth/2-Self.Width/2
        Y: =743
        ZIndex: =17

    txtSenha As text:
        BorderColor: =RGBA(0, 89, 178, 1)
        BorderThickness: =2
        Color: =RGBA(0, 0, 0, 1)
        Default: =""
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        DisabledFill: =RGBA(244, 244, 244, 1)
        FocusedBorderThickness: =4
        Height: =70
        HintText: ="Senha"
        HoverBorderColor: =RGBA(0, 89, 178, 1)
        HoverColor: =RGBA(0, 0, 0, 1)
        HoverFill: =RGBA(153, 205, 255, 1)
        Mode: =TextMode.Password
        RadiusBottomLeft: =25
        RadiusBottomRight: =25
        RadiusTopLeft: =25
        RadiusTopRight: =25
        Size: =21
        Width: =400
        X: =App.MinScreenWidth/2-Self.Width/2
        Y: =838
        ZIndex: =18

    btnLogin As button:
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        DisabledFill: =RGBA(244, 244, 244, 1)
        Fill: =RGBA(0, 51, 102, 1)
        FontWeight: =FontWeight.Semibold
        Height: =70
        HoverColor: =RGBA(255, 255, 255, 1)
        HoverFill: =ColorFade(RGBA(0, 51, 102, 1), -20%)
        OnSelect: |-
            =// Faça apenas UM LookUp combinando Usuário e Senha
            UpdateContext({
                ctxUsuarioLogado: LookUp(
                    Usuarios, 
                    Upper('Nome Usuario') = Upper(txtUsuario.Text) && 'Senha Usuario' = txtSenha.Text
                )
            });
            
            // Se ctxUsuarioLogado estiver em branco, o login falhou
            UpdateContext({ LoginInvalido: IsBlank(ctxUsuarioLogado) });
            
            If(!LoginInvalido,
                Set(Usuario_Logado, ctxUsuarioLogado.'Nome Usuario');
                Set(Perfil_Logado, ctxUsuarioLogado.'Perfil Usuario');
            
                If(Text(Perfil_Logado)="Admin", Navigate(Tela_Principal, ScreenTransition.None));
                If(Text(Perfil_Logado)="Senha", Navigate(Tela_Principal_Senha, ScreenTransition.None));
            );
            /*
            If(
                CountRows(
                    Filter(
                        Usuarios,
                        'Senha Usuario' = txtSenha.Text
                    )
                ) = 1 && 
                Upper(LookUp(Usuarios, 'Senha Usuario' = txtSenha.Text).'Nome Usuario') = Upper(txtUsuario.Text),
                UpdateContext({LoginInvalido: false}),
                UpdateContext({LoginInvalido: true})
            );
            
            
            Set(Usuario_Logado,txtUsuario.Text);
            
            ClearCollect(
                Usuarios_Local,
                Filter(Usuarios, 'Nome Usuario' = txtUsuario.Text)
            );
            
            Set(Perfil_Logado, 
                LookUp(Usuarios_Local, Upper('Nome Usuario') = Upper(txtUsuario.Text), 'Perfil Usuario')
            );
            
            //Notify( "Passou aqui"; NotificationType.Information );;
            
            If(LoginInvalido=false And Text(Perfil_Logado)="Admin", Navigate(Tela_Principal,ScreenTransition.None));
            //If(LoginInvalido=false And Text(Perfil_Logado)="Entrevistador", Navigate(Tela_Principal_Entrevistador,ScreenTransition.None));
            //If(LoginInvalido=false And Text(Perfil_Logado)="Dialogador", Navigate(Tela_Principal_Dialogador,ScreenTransition.None));
            //If(LoginInvalido=false And Text(Perfil_Logado)="Recepção", //Navigate(Tela_Principal_Recepção,ScreenTransition.None));
            //If(LoginInvalido=false And Text(Perfil_Logado)="Mesa", //Navigate(Tela_Principal_Mesa,ScreenTransition.None));
            If(LoginInvalido=false And Text(Perfil_Logado)="Senha", Navigate(Tela_Principal_Senha,ScreenTransition.None));
            */
        Size: =24
        Text: ="Entrar"
        Width: =280
        X: =App.MinScreenWidth/2-Self.Width/2
        Y: =943
        ZIndex: =19

    Popup_Login_Invalido As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =26

        Fundo_Popup_Login As rectangle:
            BorderColor: =RGBA(0, 89, 178, 1)
            Fill: =RGBA(100, 118, 132, 0.6)
            Height: =1048
            Visible: =LoginInvalido
            Width: =640
            Y: =88
            ZIndex: =20

        Popup_Todos_Login As rectangle:
            BorderColor: =RGBA(0, 89, 178, 1)
            Fill: =Color.White
            Height: =281
            Visible: =LoginInvalido
            Width: =464
            X: =88
            Y: =360
            ZIndex: =21

        lbl_Aviso_popup_Login As label:
            Align: =Align.Center
            BorderColor: =RGBA(0, 89, 178, 1)
            Color: =RGBA(255, 255, 255, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Fill: =Color.Red
            FontWeight: =FontWeight.Bold
            Height: =72
            Size: =21
            Text: ="Aviso"
            Visible: =LoginInvalido
            Width: =464
            X: =88
            Y: =360
            ZIndex: =22

        lbl_Texto_popup_Login As label:
            Align: =Align.Center
            BorderColor: =RGBA(0, 89, 178, 1)
            Color: =RGBA(0, 0, 0, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Height: =84
            Size: =21
            Text: ="Dados Inválidos!"
            Visible: =LoginInvalido
            Width: =464
            X: =88
            Y: =437
            ZIndex: =23

        Btn_Ok As button:
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            DisabledFill: =RGBA(244, 244, 244, 1)
            Fill: =RGBA(0, 51, 102, 1)
            FocusedBorderColor: =ColorFade(Self.Fill, -75%)
            FontWeight: =FontWeight.Semibold
            Height: =55
            HoverColor: =RGBA(255, 255, 255, 1)
            HoverFill: =ColorFade(RGBA(0, 51, 102, 1), -20%)
            OnSelect: |+
                =UpdateContext({LoginInvalido:false});
                
            Size: =24
            Text: ="Ok"
            Visible: =LoginInvalido
            Width: =157
            X: =242
            Y: =541
            ZIndex: =25

