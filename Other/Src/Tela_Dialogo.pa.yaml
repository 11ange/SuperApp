# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  Tela_Dialogo:
    Properties:
      Fill: =RGBA(232, 232, 232, 1)
      LoadingSpinnerColor: =RGBA(0, 51, 102, 1)
      OnVisible: |-
        =//UpdateContext({StatusFormDialogo: 1});;
        Set(
            RegistroAssistencia,
            LookUp(Assistências, 'ID Assistência' = AssistenciaSelecionada)
        );

        ClearCollect(colNomesDropdown, {Value: ""}); // Cria a coleção com o item em branco
        Collect(colNomesDropdown, // Adiciona os nomes
            SortByColumns( 
                Distinct( 
                    Filter( 
                        Pessoas, 
                        'ID Pessoa' in  
                        Distinct( 
                            Filter(Alocações, Aloc_Tarefa = 24), 
                            Aloc_Pessoa 
                        ).Value 
                    ), 
                    'Nome Pessoa' 
                ), 
                "Value", // Ou "Result"
                SortOrder.Ascending 
            )
        );

        UpdateContext(
            {MostraPopUp: false,
            Salvando: false
            }
        );
    Children:
      - RectQuickActionBar3_2:
          Control: Rectangle@2.3.0
          Properties:
            BorderColor: =RGBA(0, 89, 178, 1)
            Fill: =RGBA(0, 51, 102, 1)
            Height: =88
            Width: =Parent.Width
      - Icone_Cancela_Dialogo:
          Control: Classic/Icon@2.5.0
          Properties:
            AccessibleLabel: =Self.Tooltip
            BorderColor: =RGBA(0, 89, 178, 1)
            Color: =RGBA(255, 255, 255, 1)
            Height: =88
            Icon: =Icon.CancelBadge
            OnSelect: =ResetForm(FormDialogo);Back()
            PaddingBottom: =22
            PaddingLeft: =22
            PaddingRight: =22
            PaddingTop: =22
            PressedFill: =RGBA(255, 255, 255, 0.3)
            TabIndex: =0
            Tooltip: ="Cancel item"
            Width: =88
      - Icone_Salvar_Dialogo:
          Control: Classic/Icon@2.5.0
          Properties:
            AccessibleLabel: =Self.Tooltip
            BorderColor: =RGBA(0, 89, 178, 1)
            Color: =RGBA(255, 255, 255, 1)
            Height: =88
            Icon: =Icon.Save
            OnSelect: |-
              =//------------------------------------------------------------------------------------------
              If(
                  FormDialogo.Valid,
                  //SubmitForm(FormDialogo),
                  If(
                      DataCardValue169.Selected.Value = "Não",
                      UpdateContext({MostraPopUp: true}),
                      SubmitForm(FormDialogo);
                      UpdateContext({Salvando: true})
                  ),
                  Notify(
                      "Preencha todos os campos obrigatórios!",
                      NotificationType.Error
                  )
              );
            PaddingBottom: =22
            PaddingLeft: =22
            PaddingRight: =22
            PaddingTop: =22
            PressedFill: =RGBA(255, 255, 255, 0.3)
            TabIndex: =0
            Tooltip: ="Submit item"
            Visible: =!Salvando //true
            Width: =88
            X: =Parent.Width - Self.Width
      - LblAppName3_2:
          Control: Label@2.5.1
          Properties:
            BorderColor: =RGBA(0, 0, 0, 1)
            Color: =RGBA(255, 255, 255, 1)
            Fill: =RGBA(58, 58, 58, 0)
            Font: =Font.'Open Sans'
            Height: =88
            Size: =27
            Text: =If(Salvando, "Salvando...","Cadastrar Dialogo")
            Width: =Parent.Width - Icone_Cancela_Dialogo.Width - Icone_Salvar_Dialogo.Width
            Wrap: =false
            X: =80
      - FormDialogo:
          Control: Form@2.4.4
          Variant: Classic
          Layout: Vertical
          Properties:
            BorderColor: =RGBA(0, 89, 178, 1)
            DataSource: =Assistências
            Height: =650
            Item: =LookUp(Assistências,'ID Assistência'=AssistenciaSelecionada)
            OnFailure: |-
              =UpdateContext({Salvando: false})
              //false
            OnSuccess: |-
              =//------------------------------------------------------------------------------------------
              Set(DialogoRealizado, true);
              Set(DataDialogo_Salvo, FormDialogo.LastSubmit.'Data Diálogo');
              Set(Dialogador_Salvo, FormDialogo.LastSubmit.Dialogador);
              Set(AnotacoesDialogo_Salvo, FormDialogo.LastSubmit.'Anotações Diálogo');
              //Set(EntrevistaNova, "Não");
              //------------------------------------------------------------------------------------------

              //------------------------------------------------------------------------------------------
              //Salva na tabela Pessoas a data atual na coluna 'Ultima Assistência' (para poder fazer a
              //limpeza por tempo que não comparece à assistência.
              //Atualiza o conhecimento da doutrina na tabela de pessoas
              Patch(
                  Pessoas,
                  LookUp(Pessoas, 'ID Pessoa' = PessoaSelecionada),
                  {
                      'Ultima Assistência': DateValue(DataDialogo_Salvo),
                      ConhDoutrina:DataCardValue167.Selected.Value,
                      'Em Assistência': FormDialogo.LastSubmit.'Continua Tratamento'
                  }
              );
              //------------------------------------------------------------------------------------------

              //------------------------------------------------------------------------------------------
              // Copia o registro da tabela original para a nova tabela
              // Carrega uma vez os dados da assistência em uma variável
              // Copia via flow do power automate
              EncerrarAssistencia.Run(
                  RegistroAssistencia.'ID Assistência', // Passa o ID da Assistência
                  Dialogador_Salvo, // Passa o dialogador
                  AnotacoesDialogo_Salvo, // Passa as anotações
                  FormDialogo.LastSubmit.'Continua Tratamento', // Passa se continua tratamento
                  RegistroAssistencia.'Assistência (cr4f5_assistenciaid)', // Passa o GUID o Flow
                  Text(DataDialogo_Salvo, "yyyy-mm-dd") // Passa a data como texto (ajuste o formato se necessário)
                  //DataDialogo_Salvo
              );
              //------------------------------------------------------------------------------------------

              //------------------------------------------------------------------------------------------
              //Log
              If(FormDialogo.LastSubmit.'Continua Tratamento'="Sim",
                 Patch(
                      Logs,
                      Defaults(Logs),
                      {
                          DataeHora: Now(),
                          DeviceID: DeviceID, 
                          Ação: "Dialogo Realizado, Assistido continua assistência ID:" & PessoaSelecionada & " AssistenciaID: " & RegistroAssistencia.'ID Assistência'
                      }
                  ),
                  Patch(
                      Logs,
                      Defaults(Logs),
                      {
                          DataeHora: Now(),
                          DeviceID: DeviceID,
                          Ação: "Dialogo Realizado, Assistido finalizou assistência ID:" & PessoaSelecionada & " AssistenciaID: " & RegistroAssistencia.'ID Assistência'
                      }
                  )
              );
              //------------------------------------------------------------------------------------------

              UpdateContext({Salvando: false});

              //------------------------------------------------------------------------------------------
              If( FormDialogo.LastSubmit.'Continua Tratamento' = "Sim", // Condição
                  NewForm(Form_Cria_Entrevista); // Primeira ação
                  Navigate(Tela_Criacao_Entrevista_Assistido, ScreenTransition.None); // Segunda ação
              , // <-- Este ponto e vírgula separa o bloco "verdadeiro" do bloco "falso" do If
                  // Ação a ser executada se a condição for FALSA
                  Navigate(Tela_Principal) // Apenas uma ação neste caso
              )
              //------------------------------------------------------------------------------------------
            Width: =Parent.Width
            Y: =RectQuickActionBar3_2.Y + RectQuickActionBar3_2.Height
          Children:
            - Data Diálogo_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateTimeEdit
                Properties:
                  BorderColor: =RGBA(0, 89, 178, 1)
                  DataField: ="cr4f5_datadialogo"
                  Default: =Today() //ThisItem.'Data Diálogo'
                  DisplayName: =DataSourceInfo([@Assistências],DataSourceInfo.DisplayName,'Data Diálogo')
                  Required: =true
                  Update: =If(Not IsBlank(DateValue2.SelectedDate), DateTime(Year(DateValue2.SelectedDate), Month(DateValue2.SelectedDate), Day(DateValue2.SelectedDate), 0, 0, 0))
                  Width: =Parent.Width
                  X: =0
                  Y: =0
                Children:
                  - DataCardKey143:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =48
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DateValue2:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: DateFieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: =Parent.Default
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        Fill: |-
                          =If(
                              IsBlank(Self.SelectedDate),
                              RGBA(255, 0.,0, 0.4), // Fundo vermelho transparente se vazio
                              RGBA(255, 255, 255, 1) // Fundo branco se preenchido
                          )
                          //RGBA(255; 255; 255; 1)
                        Font: =Font.'Open Sans'
                        IconBackground: =RGBA(0, 51, 102, 1)
                        IconFill: =RGBA(255, 255, 255, 1)
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width / 2 //(Parent.Width - 60) / 2
                        X: =30
                        Y: =DataCardKey143.Y + DataCardKey143.Height + 5
                  - ErrorMessage67:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DateValue2.Y + DateValue2.Height
                  - StarVisible67:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =DataCardKey143.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey143.Y
            - Dialogador_DataCard2:
                Control: TypedDataCard@1.0.7
                Variant: ClassicAllowedValuesStringEdit
                Properties:
                  AllowedValues: =DataSourceInfo([@Assistências], DataSourceInfo.AllowedValues, Dialogador)
                  BorderColor: =RGBA(0, 89, 178, 1)
                  DataField: ="cr4f5_dialogador"
                  Default: =ThisItem.Dialogador
                  DisplayName: =DataSourceInfo([@Assistências],DataSourceInfo.DisplayName,Dialogador)
                  Required: =true
                  Update: =DataCardValue76.Selected.NomePessoa
                  Width: =Parent.Width
                  X: =0
                  Y: =1
                Children:
                  - DataCardKey97:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =48
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue76:
                      Control: Classic/DropDown@2.3.1
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        ChevronBackground: =RGBA(0, 51, 102, 1)
                        ChevronFill: =RGBA(255, 255, 255, 1)
                        ChevronHoverBackground: =ColorFade(RGBA(0, 51, 102, 1), -20%)
                        ChevronHoverFill: =RGBA(255, 255, 255, 1)
                        Default: =Parent.Default
                        DisplayMode: =Parent.DisplayMode
                        Fill: |-
                          =If(
                              IsBlank(Self.SelectedText),
                              RGBA(255, 0.,0, 0.4), // Fundo vermelho transparente se vazio
                              RGBA(255, 255, 255, 1) // Fundo branco se preenchido
                          )
                          //RGBA(255; 255; 255; 1)
                        Font: =Font.'Open Sans'
                        HoverFill: =RGBA(153, 205, 255, 1)
                        Items: |-
                          =SortByColumns(
                              Filter(
                                  AlocacoesFiltradas,
                                  Text(DateValue2.SelectedDate, "ddd", "pt-BR") = DiaCurto
                              ),
                              "NomePessoa", // Coluna pela qual você quer ordenar
                              SortOrder.Ascending // Ordem alfabética (A-Z)
                          )
                        Items.Value: =NomePessoa
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(0, 89, 178, 1)
                        SelectionColor: =RGBA(255, 255, 255, 1)
                        SelectionFill: =RGBA(0, 51, 102, 1)
                        Size: =24
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey97.Y + DataCardKey97.Height + 5
                  - ErrorMessage57:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue76.Y + DataCardValue76.Height
                  - StarVisible57:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =DataCardKey97.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey97.Y
            - Dia_Semana_DataCard7:
                Control: TypedDataCard@1.0.7
                Variant: ClassicAllowedValuesStringEdit
                Properties:
                  AllowedValues: =DiasAssistência//DataSourceInfo([@Assistências], DataSourceInfo.AllowedValues, 'Dia Semana')
                  BorderColor: =RGBA(0, 89, 178, 1)
                  DataField: ="cr4f5_diasemana"
                  Default: =ThisItem.'Dia Semana'
                  DisplayName: ="Dia Semana"//DataSourceInfo([@Assistências],DataSourceInfo.DisplayName,'Dia Semana')
                  Required: =true
                  Update: =DataCardValue30.Selected.Value
                  Visible: =false
                  X: =0
                  Y: =2
                Children:
                  - DataCardKey41:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =48
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue30:
                      Control: Classic/DropDown@2.3.1
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        ChevronBackground: =RGBA(0, 51, 102, 1)
                        ChevronFill: =RGBA(255, 255, 255, 1)
                        ChevronHoverBackground: =ColorFade(RGBA(0, 51, 102, 1), -20%)
                        ChevronHoverFill: =RGBA(255, 255, 255, 1)
                        Default: =Parent.Default
                        DisplayMode: =Parent.DisplayMode
                        Font: =Font.'Open Sans'
                        HoverFill: =RGBA(153, 205, 255, 1)
                        Items: |-
                          =DiasAssistência
                          //Parent.AllowedValues
                        Items.Value: =Value
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(0, 89, 178, 1)
                        SelectionColor: =RGBA(255, 255, 255, 1)
                        SelectionFill: =RGBA(0, 51, 102, 1)
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey41.Y + DataCardKey41.Height + 5
                  - ErrorMessage28:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue30.Y + DataCardValue30.Height
                  - StarVisible28:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =DataCardKey41.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey41.Y
            - Anotações_Dialogo_DataCard2:
                Control: TypedDataCard@1.0.7
                Variant: ClassicTextualMultilineEdit
                Properties:
                  BorderColor: =RGBA(0, 89, 178, 1)
                  DataField: ="cr4f5_anotacoesdialogo"
                  Default: =ThisItem.'Anotações Diálogo'
                  DisplayName: =DataSourceInfo([@Assistências],DataSourceInfo.DisplayName,'Anotações Diálogo')
                  Required: =true
                  Update: =DataCardValue67.Text
                  Width: =Parent.Width
                  X: =0
                  Y: =3
                Children:
                  - DataCardKey82:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =48
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue67:
                      Control: Classic/TextInput@2.3.2
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: =AnotacoesEntrevista //Parent.Default
                        DelayOutput: =true
                        DisplayMode: =Parent.DisplayMode
                        Fill: |-
                          =If(
                              IsBlank(Self.Text),
                              RGBA(255, 0.,0, 0.4), // Fundo vermelho transparente se vazio
                              RGBA(255, 255, 255, 1) // Fundo branco se preenchido
                          )
                          //RGBA(255; 255; 255; 1)
                        Font: =Font.'Open Sans'
                        Height: =140
                        HoverBorderColor: =RGBA(0, 89, 178, 1)
                        HoverFill: =RGBA(153, 205, 255, 1)
                        MaxLength: =99
                        Mode: =TextMode.MultiLine
                        PaddingLeft: =5
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =24
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey82.Y + DataCardKey82.Height + 5
                  - ErrorMessage47:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue67.Y + DataCardValue67.Height
                  - StarVisible47:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =DataCardKey82.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey82.Y
            - Continua Tratamento_DataCard5:
                Control: TypedDataCard@1.0.7
                Variant: ClassicAllowedValuesStringEdit
                Properties:
                  AllowedValues: =DataSourceInfo([@Assistências], DataSourceInfo.AllowedValues, 'Continua Tratamento')
                  BorderColor: =RGBA(0, 89, 178, 1)
                  DataField: ="cr4f5_continuatratamento"
                  Default: =ThisItem.'Continua Tratamento'
                  DisplayName: =DataSourceInfo([@Assistências],DataSourceInfo.DisplayName,'Continua Tratamento')
                  Required: =true
                  Update: =DataCardValue169.Selected.Value
                  Width: =Parent.Width
                  X: =0
                  Y: =4
                Children:
                  - DataCardKey181:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =48
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue169:
                      Control: Classic/DropDown@2.3.1
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        ChevronBackground: =RGBA(0, 51, 102, 1)
                        ChevronFill: =RGBA(255, 255, 255, 1)
                        ChevronHoverBackground: =ColorFade(RGBA(0, 51, 102, 1), -20%)
                        ChevronHoverFill: =RGBA(255, 255, 255, 1)
                        Color: |-
                          =If( Self.Selected.Value = " ",
                              RGBA( 255, 255, 255, 1),
                              RGBA( 0, 0, 0, 1)
                          )
                        Default: =Parent.Default
                        DisplayMode: =Parent.DisplayMode
                        Fill: |-
                          =If(Self.Selected.Value = " ",//IsBlank(Self.Selected);
                              RGBA(255, 0, 0, 1), // Fundo vermelho transparente se vazio
                              RGBA(255, 255, 255, 1) // Fundo branco se preenchido
                          )
                          //RGBA(255; 255; 255; 1)
                        Font: =Font.'Open Sans'
                        HoverFill: =RGBA(153, 205, 255, 1)
                        Items: =SimNao
                        Items.Value: =Value
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(0, 89, 178, 1)
                        SelectionColor: =RGBA(255, 255, 255, 1)
                        SelectionFill: =RGBA(0, 51, 102, 1)
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width/2
                        X: =30
                        Y: =DataCardKey181.Y + DataCardKey181.Height + 5
                  - ErrorMessage79:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue169.Y + DataCardValue169.Height
                  - StarVisible79:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =DataCardKey181.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey181.Y
            - Anotações Entrevista_DataCard3:
                Control: TypedDataCard@1.0.7
                Variant: ClassicTextualMultilineEdit
                IsLocked: true
                Properties:
                  BorderColor: =RGBA(0, 89, 178, 1)
                  DataField: ="cr4f5_anotacoesentrevista"
                  Default: =ThisItem.'Anotações Entrevista'
                  DisplayName: =DataSourceInfo([@Assistências],DataSourceInfo.DisplayName,'Anotações Entrevista')
                  Required: =true
                  Update: =DataCardValue19.Text
                  Visible: =false
                  X: =0
                  Y: =5
                Children:
                  - DataCardKey24:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =48
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue19:
                      Control: Classic/TextInput@2.3.2
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: =Parent.Default
                        DelayOutput: =true
                        DisplayMode: =Parent.DisplayMode
                        Font: =Font.'Open Sans'
                        Height: =140
                        HoverBorderColor: =RGBA(0, 89, 178, 1)
                        HoverFill: =RGBA(153, 205, 255, 1)
                        Mode: =TextMode.MultiLine
                        PaddingLeft: =5
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey24.Y + DataCardKey24.Height + 5
                  - ErrorMessage14:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue19.Y + DataCardValue19.Height
                  - StarVisible14:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =DataCardKey24.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey24.Y
            - ID Assistência_DataCard4:
                Control: TypedDataCard@1.0.7
                Variant: ClassicTextualEdit
                IsLocked: true
                Properties:
                  BorderColor: =RGBA(0, 89, 178, 1)
                  DataField: ="cr4f5_idassistencia"
                  Default: =ThisItem.'ID Assistência'
                  DisplayName: =DataSourceInfo([@Assistências],DataSourceInfo.DisplayName,'ID Assistência')
                  MaxLength: =DataSourceInfo([@Assistências], DataSourceInfo.MaxLength, 'ID Assistência')
                  Required: =true
                  Update: =DataCardValue22.Text
                  Visible: =false
                  X: =0
                  Y: =6
                Children:
                  - DataCardKey26:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =48
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue22:
                      Control: Classic/TextInput@2.3.2
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: =Parent.Default
                        DelayOutput: =true
                        DisplayMode: =Parent.DisplayMode
                        Font: =Font.'Open Sans'
                        HoverBorderColor: =RGBA(0, 89, 178, 1)
                        HoverFill: =RGBA(153, 205, 255, 1)
                        MaxLength: =Parent.MaxLength
                        PaddingLeft: =5
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey26.Y + DataCardKey26.Height + 5
                  - ErrorMessage15:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue22.Y + DataCardValue22.Height
                  - StarVisible15:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =DataCardKey26.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey26.Y
            - ID Pessoa_DataCard5:
                Control: TypedDataCard@1.0.7
                Variant: ClassicNumberEdit
                IsLocked: true
                Properties:
                  BorderColor: =RGBA(0, 89, 178, 1)
                  DataField: ="cr4f5_idpessoa"
                  Default: =ThisItem.'ID Pessoa'
                  DisplayName: =DataSourceInfo([@Assistências],DataSourceInfo.DisplayName,'ID Pessoa')
                  Required: =true
                  Update: =Value(DataCardValue24.Text)
                  Visible: =false
                  X: =0
                  Y: =7
                Children:
                  - DataCardKey29:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =48
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue24:
                      Control: Classic/TextInput@2.3.2
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: =Parent.Default
                        DelayOutput: =true
                        DisplayMode: =Parent.DisplayMode
                        Font: =Font.'Open Sans'
                        Format: =TextFormat.Number
                        HoverBorderColor: =RGBA(0, 89, 178, 1)
                        HoverFill: =RGBA(153, 205, 255, 1)
                        PaddingLeft: =5
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey29.Y + DataCardKey29.Height + 5
                  - ErrorMessage19:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue24.Y + DataCardValue24.Height
                  - StarVisible19:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =DataCardKey29.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey29.Y
            - Data Entrevista_DataCard4:
                Control: TypedDataCard@1.0.7
                Variant: ClassicDateTimeEdit
                IsLocked: true
                Properties:
                  BorderColor: =RGBA(0, 89, 178, 1)
                  DataField: ="cr4f5_dataentrevista"
                  Default: =ThisItem.'Data Entrevista'
                  DisplayName: =DataSourceInfo([@Assistências],DataSourceInfo.DisplayName,'Data Entrevista')
                  Required: =true
                  Update: =If(Not IsBlank(DateValue3.SelectedDate), DateTime(Year(DateValue3.SelectedDate), Month(DateValue3.SelectedDate), Day(DateValue3.SelectedDate), Value(HourValue5.Selected.Value), Value(MinuteValue5.Selected.Value), 0))
                  Visible: =false
                  X: =0
                  Y: =8
                Children:
                  - DataCardKey33:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =48
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DateValue3:
                      Control: Classic/DatePicker@2.6.0
                      MetadataKey: DateFieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: =Parent.Default
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        Font: =Font.'Open Sans'
                        IconBackground: =RGBA(0, 51, 102, 1)
                        IconFill: =RGBA(255, 255, 255, 1)
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =(Parent.Width - 60) / 2
                        X: =30
                        Y: =DataCardKey33.Y + DataCardKey33.Height + 5
                  - HourValue5:
                      Control: Classic/DropDown@2.3.1
                      MetadataKey: HourFieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        ChevronBackground: =RGBA(0, 51, 102, 1)
                        ChevronFill: =RGBA(255, 255, 255, 1)
                        ChevronHoverBackground: =ColorFade(RGBA(0, 51, 102, 1), -20%)
                        ChevronHoverFill: =RGBA(255, 255, 255, 1)
                        Default: =Text(Hour(Parent.Default),"00")
                        DisplayMode: =Parent.DisplayMode
                        Font: =Font.'Open Sans'
                        Height: =DateValue3.Height
                        HoverFill: =RGBA(153, 205, 255, 1)
                        Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"]
                        Items.Value: =Value
                        PaddingBottom: =5
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        PaddingRight: =5
                        PaddingTop: =5
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(0, 89, 178, 1)
                        SelectionColor: =RGBA(255, 255, 255, 1)
                        SelectionFill: =RGBA(0, 51, 102, 1)
                        Tooltip: =Parent.DisplayName
                        Width: =DateValue3.Width / 2 - 10
                        X: =DateValue3.X + DateValue3.Width + 10
                        Y: =DateValue3.Y
                  - Separator12:
                      Control: Label@2.5.1
                      MetadataKey: HourMinuteSeparator
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Bold
                        Height: =HourValue5.Height
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Text: =":"
                        Width: =10
                        Wrap: =false
                        X: =HourValue5.X + HourValue5.Width
                        Y: =HourValue5.Y
                  - MinuteValue5:
                      Control: Classic/DropDown@2.3.1
                      MetadataKey: MinuteFieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        ChevronBackground: =RGBA(0, 51, 102, 1)
                        ChevronFill: =RGBA(255, 255, 255, 1)
                        ChevronHoverBackground: =ColorFade(RGBA(0, 51, 102, 1), -20%)
                        ChevronHoverFill: =RGBA(255, 255, 255, 1)
                        Default: =Text(Minute(Parent.Default),"00")
                        DisplayMode: =Parent.DisplayMode
                        Font: =Font.'Open Sans'
                        Height: =HourValue5.Height
                        HoverFill: =RGBA(153, 205, 255, 1)
                        Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"]
                        Items.Value: =Value
                        PaddingBottom: =5
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        PaddingRight: =5
                        PaddingTop: =5
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(0, 89, 178, 1)
                        SelectionColor: =RGBA(255, 255, 255, 1)
                        SelectionFill: =RGBA(0, 51, 102, 1)
                        Tooltip: =Parent.DisplayName
                        Width: =HourValue5.Width
                        X: =HourValue5.X + HourValue5.Width + Separator12.Width
                        Y: =HourValue5.Y
                  - ErrorMessage20:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =HourValue5.Y + HourValue5.Height
                  - StarVisible20:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =DataCardKey33.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey33.Y
            - Entrevistador_DataCard5:
                Control: TypedDataCard@1.0.7
                Variant: ClassicTextualEdit
                IsLocked: true
                Properties:
                  BorderColor: =RGBA(0, 89, 178, 1)
                  DataField: ="cr4f5_entrevistador"
                  Default: =ThisItem.Entrevistador
                  DisplayName: =DataSourceInfo([@Assistências],DataSourceInfo.DisplayName,Entrevistador)
                  MaxLength: =DataSourceInfo([@Assistências], DataSourceInfo.MaxLength, Entrevistador)
                  Required: =true
                  Update: =DataCardValue29.Text
                  Visible: =false
                  X: =0
                  Y: =9
                Children:
                  - DataCardKey36:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =48
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue29:
                      Control: Classic/TextInput@2.3.2
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: =Parent.Default
                        DelayOutput: =true
                        DisplayMode: =Parent.DisplayMode
                        Font: =Font.'Open Sans'
                        HoverBorderColor: =RGBA(0, 89, 178, 1)
                        HoverFill: =RGBA(153, 205, 255, 1)
                        MaxLength: =Parent.MaxLength
                        PaddingLeft: =5
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey36.Y + DataCardKey36.Height + 5
                  - ErrorMessage27:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue29.Y + DataCardValue29.Height
                  - StarVisible27:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =DataCardKey36.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey36.Y
            - Assistência_DataCard6:
                Control: TypedDataCard@1.0.7
                Variant: ClassicTextualEdit
                Properties:
                  BorderColor: =RGBA(0, 89, 178, 1)
                  DataField: ="cr4f5_assistencia"
                  Default: =ThisItem.'Assistência (cr4f5_assistencia)'
                  DisplayName: =DataSourceInfo([@Assistências],DataSourceInfo.DisplayName,'Assistência (cr4f5_assistencia)')
                  MaxLength: =DataSourceInfo([@Assistências], DataSourceInfo.MaxLength, 'Assistência (cr4f5_assistencia)')
                  Required: =true
                  Update: =DataCardValue33.Text
                  Visible: =false
                  X: =0
                  Y: =10
                Children:
                  - DataCardKey42:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =48
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue33:
                      Control: Classic/TextInput@2.3.2
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: =Parent.Default
                        DelayOutput: =true
                        DisplayMode: =Parent.DisplayMode
                        Font: =Font.'Open Sans'
                        HoverBorderColor: =RGBA(0, 89, 178, 1)
                        HoverFill: =RGBA(153, 205, 255, 1)
                        MaxLength: =Parent.MaxLength
                        PaddingLeft: =5
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey42.Y + DataCardKey42.Height + 5
                  - ErrorMessage32:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue33.Y + DataCardValue33.Height
                  - StarVisible32:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =DataCardKey42.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey42.Y
            - Assistência Mesmo Dia_DataCard1:
                Control: TypedDataCard@1.0.7
                Variant: ClassicTextualEdit
                IsLocked: true
                Properties:
                  BorderColor: =RGBA(0, 89, 178, 1)
                  DataField: ="cr4f5_assistenciamesmodia"
                  Default: =ThisItem.'Assistência Mesmo Dia'
                  DisplayName: =DataSourceInfo([@Assistências],DataSourceInfo.DisplayName,'Assistência Mesmo Dia')
                  MaxLength: =DataSourceInfo([@Assistências], DataSourceInfo.MaxLength, 'Assistência Mesmo Dia')
                  Required: =true
                  Update: =DataCardValue35.Text
                  Visible: =false
                  X: =0
                  Y: =11
                Children:
                  - DataCardKey43:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =48
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue35:
                      Control: Classic/TextInput@2.3.2
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: =Parent.Default
                        DelayOutput: =true
                        DisplayMode: =Parent.DisplayMode
                        Font: =Font.'Open Sans'
                        HoverBorderColor: =RGBA(0, 89, 178, 1)
                        HoverFill: =RGBA(153, 205, 255, 1)
                        MaxLength: =Parent.MaxLength
                        PaddingLeft: =5
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey43.Y + DataCardKey43.Height + 5
                  - ErrorMessage33:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue35.Y + DataCardValue35.Height
                  - StarVisible33:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =DataCardKey43.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey43.Y
            - Finalizada_DataCard2:
                Control: TypedDataCard@1.0.7
                Variant: ClassicTextualEdit
                IsLocked: true
                Properties:
                  BorderColor: =RGBA(0, 89, 178, 1)
                  DataField: ="cr4f5_finalizada"
                  Default: =ThisItem.Finalizada
                  DisplayName: =DataSourceInfo([@Assistências],DataSourceInfo.DisplayName,Finalizada)
                  MaxLength: =DataSourceInfo([@Assistências], DataSourceInfo.MaxLength, Finalizada)
                  Required: =true
                  Update: =DataCardValue40.Text
                  Visible: =false
                  X: =0
                  Y: =12
                Children:
                  - DataCardKey46:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =48
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue40:
                      Control: Classic/TextInput@2.3.2
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: =Parent.Default
                        DelayOutput: =true
                        DisplayMode: =Parent.DisplayMode
                        Font: =Font.'Open Sans'
                        HoverBorderColor: =RGBA(0, 89, 178, 1)
                        HoverFill: =RGBA(153, 205, 255, 1)
                        MaxLength: =Parent.MaxLength
                        PaddingLeft: =5
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey46.Y + DataCardKey46.Height + 5
                  - ErrorMessage34:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue40.Y + DataCardValue40.Height
                  - StarVisible34:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =DataCardKey46.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey46.Y
      - Form1:
          Control: Form@2.4.4
          Variant: Classic
          Layout: Vertical
          Properties:
            BorderColor: =RGBA(0, 89, 178, 1)
            DataSource: =Pessoas
            Height: =183
            Item: =LookUp(Pessoas,'ID Pessoa' = PessoaSelecionada)
            Y: =FormDialogo.Y + FormDialogo.Height
          Children:
            - ConhDoutrina_DataCard10:
                Control: TypedDataCard@1.0.7
                Variant: ClassicAllowedValuesStringEdit
                Properties:
                  AllowedValues: =DataSourceInfo([@Pessoas], DataSourceInfo.AllowedValues, ConhDoutrina)
                  BorderColor: =RGBA(0, 89, 178, 1)
                  DataField: ="cr4f5_conhdoutrina"
                  Default: =ThisItem.ConhDoutrina
                  DisplayName: =DataSourceInfo([@Pessoas],DataSourceInfo.DisplayName,ConhDoutrina)
                  Required: =true
                  Update: =DataCardValue167.Selected.Value
                  Width: =FormDialogo.Width
                  X: =0
                  Y: =0
                Children:
                  - DataCardKey179:
                      Control: Label@2.5.1
                      MetadataKey: FieldName
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =48
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                  - DataCardValue167:
                      Control: Classic/DropDown@2.3.1
                      MetadataKey: FieldValue
                      Properties:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        ChevronBackground: =RGBA(0, 51, 102, 1)
                        ChevronFill: =RGBA(255, 255, 255, 1)
                        ChevronHoverBackground: =ColorFade(RGBA(0, 51, 102, 1), -20%)
                        ChevronHoverFill: =RGBA(255, 255, 255, 1)
                        Default: =Parent.Default
                        DisplayMode: =Parent.DisplayMode
                        Font: =Font.'Open Sans'
                        HoverFill: =RGBA(153, 205, 255, 1)
                        Items: =ConhecDoutrina
                        Items.Value: =Value
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(0, 89, 178, 1)
                        SelectionColor: =RGBA(255, 255, 255, 1)
                        SelectionFill: =RGBA(0, 51, 102, 1)
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width/2
                        X: =30
                        Y: =DataCardKey179.Y + DataCardKey179.Height + 5
                  - ErrorMessage77:
                      Control: Label@2.5.1
                      MetadataKey: ErrorMessage
                      Properties:
                        AutoHeight: =true
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(168, 0, 0, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue167.Y + DataCardValue167.Height
                  - StarVisible77:
                      Control: Label@2.5.1
                      MetadataKey: FieldRequired
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 89, 178, 1)
                        Font: =Font.'Open Sans'
                        Height: =DataCardKey179.Height
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey179.Y
      - Fundo_Popup_5:
          Control: Rectangle@2.3.0
          Properties:
            BorderColor: =RGBA(0, 89, 178, 1)
            Fill: =RGBA(100, 118, 132, 0.6)
            Height: =Parent.Height - RectQuickActionBar3_2.Height
            Visible: =MostraPopUp
            Width: =Parent.Width
            Y: =88
      - Retangulo_Popup_Confirma_Presença_1:
          Control: Rectangle@2.3.0
          Group: Popup_Confirma_Fim_Assistencia
          Properties:
            BorderColor: =RGBA(0, 89, 178, 1)
            Fill: =Color.White
            Height: =281
            Visible: =MostraPopUp
            Width: =464
            X: =Parent.Width/2 - Self.Width/2
            Y: =468
      - lbl_Aviso_popup_Confirma_Presença_1:
          Control: Label@2.5.1
          Group: Popup_Confirma_Fim_Assistencia
          Properties:
            Align: =Align.Center
            BorderColor: =RGBA(0, 89, 178, 1)
            Color: =RGBA(255, 255, 255, 1)
            Fill: =Color.Red
            Font: =Font.'Open Sans'
            FontWeight: =FontWeight.Bold
            Height: =72
            Text: ="Aviso"
            Visible: =MostraPopUp
            Width: =Retangulo_Popup_Confirma_Presença_1.Width
            X: =Retangulo_Popup_Confirma_Presença_1.X
            Y: =468
      - lbl_Texto_popup_Confirma_Presença_1:
          Control: Label@2.5.1
          Group: Popup_Confirma_Fim_Assistencia
          Properties:
            Align: =Align.Center
            BorderColor: =RGBA(0, 89, 178, 1)
            Font: =Font.'Open Sans'
            Height: =84
            Text: ="Confirma o encerramento da Assistência?"
            Visible: =MostraPopUp
            Width: =Retangulo_Popup_Confirma_Presença_1.Width
            X: =Retangulo_Popup_Confirma_Presença_1.X
            Y: =545
      - Btn_Sim_Confirma_Presença_1:
          Control: Classic/Button@2.2.0
          Group: Popup_Confirma_Fim_Assistencia
          Properties:
            BorderColor: =ColorFade(Self.Fill, -15%)
            Color: =RGBA(255, 255, 255, 1)
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            Fill: =RGBA(0, 51, 102, 1)
            FocusedBorderColor: =ColorFade(Self.Fill, -75%)
            Font: =Font.'Open Sans'
            Height: =55
            HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
            HoverColor: =RGBA(255, 255, 255, 1)
            HoverFill: =ColorFade(RGBA(0, 51, 102, 1), -20%)
            OnSelect: |-
              =SubmitForm(FormDialogo);
              UpdateContext({MostraPopUp: false})
            PressedBorderColor: =Self.Fill
            PressedColor: =Self.Fill
            PressedFill: =Self.Color
            Text: ="Sim"
            Visible: =MostraPopUp
            Width: =157
            X: =Retangulo_Popup_Confirma_Presença_1.X + (Retangulo_Popup_Confirma_Presença_1.Width/4)*3 - Self.Width/2
            Y: =670
      - Btn_Nao_Confirma_Presença_1:
          Control: Classic/Button@2.2.0
          Group: Popup_Confirma_Fim_Assistencia
          Properties:
            BorderColor: =ColorFade(Self.Fill, -15%)
            Color: =RGBA(255, 255, 255, 1)
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            Fill: =RGBA(0, 51, 102, 1)
            FocusedBorderColor: =ColorFade(Self.Fill, -75%)
            Font: =Font.'Open Sans'
            Height: =55
            HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
            HoverColor: =RGBA(255, 255, 255, 1)
            HoverFill: =ColorFade(RGBA(0, 51, 102, 1), -20%)
            OnSelect: |-
              =UpdateContext({ MostraPopUp: false })
            PressedBorderColor: =Self.Fill
            PressedColor: =Self.Fill
            PressedFill: =Self.Color
            Text: ="Não"
            Visible: =MostraPopUp
            Width: =157
            X: =Retangulo_Popup_Confirma_Presença_1.X + (Retangulo_Popup_Confirma_Presença_1.Width/4) - Self.Width/2
            Y: =670
